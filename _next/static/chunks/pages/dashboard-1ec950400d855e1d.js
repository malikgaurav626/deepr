(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{40528:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return t(43445)}])},27242:function(e,n,t){"use strict";var r=t(85893),o=t(54641),i=t(29222);n.Z=function(e){var n=e.onClick,t=e.values,a=e.selected;return(0,r.jsx)(o.U,{bgColor:"#FFFFFF14",borderRadius:"10px",h:"32px",px:1,spacing:"4px",children:t.map((function(e){return(0,r.jsx)(i.z,{onClick:n,color:a===e.id?"text.secondary":"text.primary",bgColor:a===e.id?"rgba(255, 255, 255, 0.32)":"transparent",boxShadow:a===e.id?"inset 0px 1px 0px rgba(255, 255, 255, 0.08)":"none",borderRadius:"6px",width:"50%",h:"24px",fontSize:"12px",_hover:{textDecoration:"none"},_active:{textDecoration:"none"},children:e.name},e.id)}))})}},56577:function(e,n,t){"use strict";var r=t(85893),o=t(88911);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){i(e,n,t[n])}))}return e}n.Z=function(e){return(0,r.jsx)(o.x,a({},e,{sx:a({fontVariant:"tabular-nums"},e.sx)}))}},54919:function(e,n,t){"use strict";var r=t(85893),o=t(4217);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}n.Z=function(e){var n=e.image,t=e.isSupplying,s=a(e,["image","isSupplying"]);return(0,r.jsx)(o.q,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){i(e,n,t[n])}))}return e}({src:n,color:"white",mr:3,padding:t?"3px":0},s))}},77513:function(e,n,t){"use strict";var r=t(85893),o=t(33838),i=t(41664),a=t.n(i);n.Z=function(e){var n=e.id,t=e.marketChart,i=e.children,s=e.textDecoration,l=e.target,c=e.width,d="/markets/".concat(n).concat(t?"?chart=".concat(t):"");return s?(0,r.jsx)(a(),{href:d,passHref:!0,children:(0,r.jsx)(o.r,{target:l,_hover:{textDecoration:s},_focus:{outline:"none"},width:c,children:i})}):(0,r.jsx)(a(),{href:d,passHref:!0,children:i})}},45162:function(e,n,t){"use strict";t.d(n,{K:function(){return i}});var r=t(67294),o=t(75066);function i(e){var n=(0,r.useState)(e[0].id),t=n[0],i=n[1];return{onToggleClick:function(){var n=t===e[0].id?e[1].id:e[0].id;i(n),o.n_(o.Oj.TOGGLED_LABEL,{activeMode:n})},activeMode:t}}},43445:function(e,n,t){"use strict";t.r(n),t.d(n,{Mode:function(){return Bn},__N_SSG:function(){return zn},default:function(){return _n}});var r,o=t(85893),i=t(67294),a=t(7335),s=t(36979),l=t(204),c=t(91669),d=t(5152),u=t.n(d),m=t(71412),x=t(69077),h=t(28650),b=t(36526),p=t(577),g=t(88911),f=t(66700),j=t(75066),y=t(39421),w=t(56577),v=t(54919),S=t(49755),k=function(e){var n=e.apy,t=(0,m.$G)("dashboard").t;return(0,o.jsxs)(l.k,{flexDir:"row",alignItems:"center",children:[(0,o.jsx)(v.Z,{mr:2,name:S.UI,size:"2xs",image:(0,f.jc)(S.UI)}),(0,o.jsx)(w.Z,{lineHeight:{base:"16px",md:"20px"},fontSize:{base:"xs",md:"sm"},color:"text.secondary",children:"".concat((0,f.c2)(n)," ").concat(t("marketsTable.apy"))})]})},L=function(e){var n=e.market,t=e.onClick,r=e.isBorrowing,a=n.underlyingSymbol,s=n.wallet,d=n.borrow,u=d.apy,m=d.liquidity,x=d.balance,h=d.balanceInFiat,S=d.distributionApy;return!r&&n.borrow.isBorrowing?null:(0,o.jsx)(i.Fragment,{children:(0,o.jsxs)(b.Tr,{borderBottom:"1px solid #FFFFFF12",_hover:{bgColor:"background.hover",boxShadow:"4px 0 0 ".concat(y.r.colors.primary," inset")},_last:{borderBottom:"none"},onClick:function(){t(n),j.n_(j.Oj.BORROW_ROW_CLICKED,{underlyingSymbol:a},{isBorrowing:!!r})},cursor:"pointer",h:{base:"57px",md:"80px"},children:[(0,o.jsx)(p.Td,{pr:{base:2,sm:3.5},children:(0,o.jsxs)(l.k,{flexDir:"row",alignItems:"center",children:[(0,o.jsx)(v.Z,{name:a,image:(0,f.jc)(a),size:"sm",mr:3}),(0,o.jsxs)(l.k,{flexDir:"column",children:[(0,o.jsx)(g.x,{fontWeight:"bold",children:a}),(0,o.jsx)(w.Z,{color:"text.secondary",fontSize:"xs",display:{base:"initial",md:"none"},children:(0,f.c2)(u)})]})]})}),r&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.Td,{display:{base:"none",md:"revert"},children:(0,o.jsxs)(c.g,{alignItems:"flex-end",spacing:0,children:[(0,o.jsx)(w.Z,{fontSize:{base:"sm",md:"md"},lineHeight:{base:"16px",md:"auto"},color:"text.primary",children:(0,f.c2)(u)}),(0,o.jsx)(k,{apy:S})]})}),(0,o.jsx)(p.Td,{textAlign:"end",children:(0,o.jsxs)(c.g,{alignItems:"flex-end",spacing:.5,children:[(0,o.jsx)(w.Z,{fontSize:{base:"sm",md:"md"},color:"text.primary",children:(0,f.ml)(h)}),(0,o.jsx)(w.Z,{fontSize:{base:"xs",md:"sm"},color:"text.secondary",children:(0,f.LH)(x,a)})]})})]}),!r&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.Td,{textAlign:"end",display:{base:"none",md:"revert"},children:(0,o.jsxs)(c.g,{alignItems:"flex-end",spacing:.5,children:[(0,o.jsx)(w.Z,{fontSize:{base:"sm",md:"md"},color:"text.primary",children:(0,f.c2)(u)}),(0,o.jsx)(k,{apy:S})]})}),(0,o.jsx)(p.Td,{textAlign:"end",p:{base:0,md:"auto"},children:(0,o.jsx)(w.Z,{fontSize:{base:"sm",md:"md"},children:(0,f.LH)(s||0,a,2,"compact")})}),(0,o.jsx)(p.Td,{pl:{base:2,sm:3.5},textAlign:"end",borderTopRightRadius:"lg",borderBottomRightRadius:"lg",children:(0,o.jsx)(w.Z,{fontSize:{base:"sm",md:"md"},children:(0,f.ml)(m,{notation:"compact",decimals:0})})})]})]},a)})},C=t(63343),T=t(24304),O=t(75421),A=function(e){var n=e.isBorrowing,t=(0,m.$G)("dashboard").t,r=(0,C.S)({base:!0,md:!1});return(0,o.jsx)(T.h,{children:(0,o.jsxs)(b.Tr,{color:"text.secondary",borderBottom:"1px solid #FFFFFF12",children:[(0,o.jsxs)(O.Th,{textTransform:"none",pr:{base:2,sm:3.5},fontWeight:500,fontSize:"sm",children:[t("marketsTable.asset")," ",r&&"/ ".concat(t("marketsTable.apr"))]}),(0,o.jsx)(O.Th,{textTransform:"none",textAlign:"end",display:{base:"none",md:"revert"},fontSize:"sm",fontWeight:500,children:t("marketsTable.apr")}),(0,o.jsx)(O.Th,{textTransform:"none",textAlign:"end",fontSize:"sm",fontWeight:500,children:t(n?"marketsTable.balance":"marketsTable.wallet")}),!n&&(0,o.jsx)(O.Th,{pl:{base:2,sm:3.5},textTransform:"none",textAlign:"end",borderTopRightRadius:"lg",borderBottomRightRadius:"lg",fontSize:"sm",fontWeight:500,children:t("marketsTable.liquidity")})]})})},I=t(50174),E=t(99188),B=t(96486),M=function(){return(0,o.jsx)(p.Td,{p:6,children:(0,o.jsx)(l.k,{alignItems:"center",w:"156px",h:"32px",children:(0,o.jsx)(I.s,{boxSize:10})})})},P=function(){return(0,o.jsx)(p.Td,{children:(0,o.jsx)(l.k,{justifyContent:"flex-end",children:(0,o.jsx)(E.N,{noOfLines:2,w:16})})})},R=function(){return(0,o.jsx)(p.Td,{children:(0,o.jsx)(l.k,{justifyContent:"flex-end",children:(0,o.jsx)(E.N,{noOfLines:1,w:8})})})},D=function(){return(0,o.jsxs)(b.Tr,{borderBottom:"1px solid #FFFFFF12",_last:{borderBottom:"none"},children:[(0,o.jsx)(M,{}),(0,o.jsx)(P,{}),(0,o.jsx)(P,{}),(0,o.jsx)(R,{})]})},F=function(e){var n=e.rows;return(0,o.jsx)(o.Fragment,{children:(0,B.times)(n,(function(e){return(0,o.jsx)(D,{},e)}))})},z=(0,i.memo)(F),U=t(23100),_=t(14418),W=t(36354),N=t(36557),Z=t(52672),G=function(e){var n=e.title,t=e.children;return(0,o.jsxs)(c.g,{w:"full",alignItems:"flex-start",borderRadius:"lg",children:[n&&(0,o.jsx)(U.xu,{w:"full",py:4,children:(0,o.jsx)(_.X,{fontSize:{base:"xl",md:"2xl"},lineHeight:{base:"24px",md:"32px"},children:n})}),(0,o.jsx)(l.k,{w:"full",direction:"column",border:"1px solid #FFFFFF12",borderRadius:"2xl",overflow:"hidden",mt:"0 !important",background:y.r.colors.background.box,children:(0,o.jsx)(Z.Z,{children:(0,o.jsx)(W.x,{children:(0,o.jsx)(N.i,{mt:0,variant:"unstyled",children:t})})})})]})},H=t(53854),Y=t(35947),K=t(56877),q=function(){var e=(0,m.$G)("dashboard").t;return(0,o.jsx)(Y.R,{children:(0,o.jsxs)(l.k,{h:"223px",justifyContent:"center",alignItems:"center",gap:"11px",color:"error",flexDirection:"row",children:[(0,o.jsx)(K.J,{as:H.baL,boxSize:18}),(0,o.jsx)(g.x,{fontSize:16,fontWeight:"medium",children:e("networkDown.description")})]})})},V=function(e){var n=e.title,t=e.data,r=e.isBorrowing,i=e.onRowClick,a=e.isLoading;return e.showError?(0,o.jsxs)(G,{title:n,children:[(0,o.jsx)(A,{isBorrowing:r}),(0,o.jsx)(q,{})]}):t&&0===t.length&&!a?(0,o.jsx)(o.Fragment,{}):(0,o.jsxs)(G,{title:n,children:[(0,o.jsx)(A,{isBorrowing:r}),(0,o.jsx)(h.p,{children:a||!t?(0,o.jsx)(z,{rows:5}):t.map((function(e){return(0,o.jsx)(L,{market:e,onClick:i,isBorrowing:r},"borrow-".concat(e.underlyingSymbol))}))})]})},$=t(37485),X=function(e){var n=e.market,t=e.onClick,r=e.isSupplying,a=e.onCollateralToggle,s=n.underlyingSymbol,d=n.wallet,u=n.supply,m=u.apy,x=u.balance,h=u.isCollateral,S=u.balanceInFiat,L=u.distributionApy;return!r&&n.supply.isSupplying?null:(0,o.jsx)(i.Fragment,{children:(0,o.jsxs)(b.Tr,{borderBottom:"1px solid #FFFFFF12",_hover:{bgColor:"background.hover",boxShadow:"4px 0 0 ".concat(y.r.colors.secondary," inset")},_last:{borderBottom:"none"},cursor:"pointer",onClick:function(){t(n),j.n_(j.Oj.SUPPLY_ROW_CLICKED,{underlyingSymbol:s},{isSupplying:!!r})},h:{base:"57px",md:"80px"},children:[(0,o.jsx)(p.Td,{pr:{base:2,sm:3.5},children:(0,o.jsxs)(l.k,{flexDir:"row",alignItems:"center",children:[(0,o.jsx)(v.Z,{name:s,image:(0,f.jc)(s),isSupplying:r,size:"sm",mr:3}),(0,o.jsxs)(l.k,{flexDir:"column",children:[(0,o.jsx)(g.x,{fontWeight:"bold",fontSize:{base:"sm",md:"md"},color:"text.primary",children:s}),(0,o.jsx)(w.Z,{color:"text.secondary",fontSize:{base:"xs",md:"sm"},display:{base:"initial",md:"none"},children:(0,f.c2)(m)})]})]})}),r&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.Td,{textAlign:"end",display:{base:"none",md:"revert"},px:0,children:(0,o.jsxs)(c.g,{alignItems:"flex-end",spacing:0,children:[(0,o.jsx)(w.Z,{fontSize:{base:"sm",md:"md"},lineHeight:{base:"16px",md:"auto"},color:"text.primary",children:(0,f.c2)(m)}),(0,o.jsx)(k,{apy:L})]})}),(0,o.jsx)(p.Td,{textAlign:"end",px:0,children:(0,o.jsxs)(c.g,{alignItems:"flex-end",spacing:0,children:[(0,o.jsx)(w.Z,{color:"text.primary",fontSize:{base:"sm",md:"md"},children:(0,f.ml)(S)}),(0,o.jsx)(w.Z,{fontSize:{base:"xs",md:"sm"},color:"text.secondary",children:(0,f.LH)(x,s)})]})})]}),!r&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.Td,{textAlign:"end",display:{base:"none",md:"revert"},px:0,children:(0,o.jsxs)(c.g,{alignItems:"flex-end",spacing:0,children:[(0,o.jsx)(w.Z,{fontSize:{base:"sm",md:"md"},color:"text.primary",children:(0,f.c2)(m)}),(0,o.jsx)(k,{apy:L})]})}),(0,o.jsx)(p.Td,{textAlign:"end",p:{base:0,md:"auto"},children:(0,o.jsx)(w.Z,{fontSize:{base:"sm",md:"md"},children:(0,f.LH)(d||0,s,2,"compact")})})]}),(0,o.jsx)(p.Td,{onClick:function(e){e.stopPropagation()},textAlign:"end",pl:{base:2,sm:3.5},children:null!==h&&(0,o.jsx)($.r,{name:"collateralToggle",onChange:function(){a(n),j.n_(j.Oj.COLLATERALIZE_TOGGLED,{underlyingSymbol:s})},isChecked:h})})]})},"supply-".concat(s))},J=function(e){var n=e.isSupplying,t=(0,m.$G)("dashboard").t,r=(0,C.S)({base:!0,md:!1});return(0,o.jsx)(T.h,{children:(0,o.jsxs)(b.Tr,{color:"text.secondary",borderBottom:"1px solid #FFFFFF12",children:[(0,o.jsxs)(O.Th,{textTransform:"none",pr:{base:2,sm:3.5},fontWeight:500,fontSize:"sm",children:[t("marketsTable.asset")," ",r&&"/ ".concat(t("marketsTable.apy"))]}),(0,o.jsx)(O.Th,{textTransform:"none",textAlign:"end",display:{base:"none",md:"revert"},fontSize:"sm",fontWeight:500,children:t("marketsTable.apy")}),(0,o.jsx)(O.Th,{textTransform:"none",textAlign:"end",fontSize:"sm",fontWeight:500,children:t(n?"marketsTable.balance":"marketsTable.wallet")}),(0,o.jsx)(O.Th,{textTransform:"none",textAlign:"end",pl:{base:2,sm:3.5},fontSize:"sm",fontWeight:500,children:t("marketsTable.collateral")})]})})},Q=function(e){var n=e.title,t=e.data,r=e.isLoading,i=e.isSupplying,a=e.onRowClick,s=e.onCollateralToggle;return e.showError?(0,o.jsxs)(G,{title:n,children:[(0,o.jsx)(J,{isSupplying:i}),(0,o.jsx)(q,{})]}):t&&0===t.length&&!r?(0,o.jsx)(o.Fragment,{}):(0,o.jsxs)(G,{title:n,children:[(0,o.jsx)(J,{isSupplying:i}),(0,o.jsx)(h.p,{children:r||!t?(0,o.jsx)(z,{rows:5}):t.map((function(e){return(0,o.jsx)(X,{market:e,onClick:a,isSupplying:i,onCollateralToggle:s},e.underlyingSymbol)}))})]})},ee=t(92752),ne=t(8954),te=t(31948),re=t(73793),oe=t(87536),ie=t(76684),ae=t(33392),se=t(1880),le=t(55784),ce=t(9033),de=t(36860),ue=t(54641),me=t(80743),xe=function(e){var n=e.value;return(0,o.jsx)(me.E,{borderRadius:"md",size:"sm",w:"full",value:n,bgColor:"rgba(255, 255, 255, 0.08)",marginTop:"17px",sx:{"& > div":{background:(0,le.bY)(n)}}})};!function(e){e.BALANCE="Balance",e.LIMIT="Limit"}(r||(r={}));var he=function(e){var n=e.type,t=e.borrowLimit,i=e.borrowLimitUtilization,a=e.projectedBorrowLimit,s=e.showProjectedBorrowLimit,c=e.projectedBorrowLimitUtilization,d=e.showProjectedBorrowLimitUtilization,u=(0,m.$G)("dashboard").t,x=Number((100*(d?c||0:i)).toFixed(0));return(0,o.jsxs)(l.k,{w:"full",flexDirection:"column",children:[(0,o.jsxs)(ie.K,{children:[(0,o.jsx)(g.x,{color:"text.primary",fontWeight:"700",mb:"2",children:u("actionModals.borrowLimit")}),(0,o.jsxs)(ue.U,{justifyContent:"space-between",children:[(0,o.jsx)(g.x,{color:"text.secondary",minW:n===r.BALANCE?120:100,children:u("actionModals.borrow".concat(n))}),(0,o.jsxs)(l.k,{alignItems:"center",gap:"1",children:[(0,o.jsx)(g.x,{fontWeight:"700",color:"text.primary",children:(0,f.ml)(t)}),s&&!!a&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(de.m,{color:"primary"}),(0,o.jsx)(g.x,{fontWeight:"700",color:"text.primary",children:(0,f.ml)(a)})]})]})]}),(0,o.jsxs)(ue.U,{justifyContent:"space-between",children:[(0,o.jsxs)(g.x,{color:"text.secondary",children:[" ",u("actionModals.borrowLimitUsedPercentage")]}),(0,o.jsxs)(l.k,{alignItems:"center",gap:"1",children:[(0,o.jsx)(g.x,{fontWeight:"700",color:"text.primary",children:(0,f.c2)(i)}),d&&!!c&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(de.m,{color:"primary"}),(0,o.jsx)(g.x,{fontWeight:"700",color:"text.primary",children:(0,f.c2)(c)})]})]})]})]}),(0,o.jsx)(xe,{value:x})]})},be=t(85518),pe=t(93863),ge=t(43775),fe=t(28129),je=t(11527);function ye(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function we(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ye(e,n,t[n])}))}return e}function ve(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var Se,ke=function(e){var n=e.register,t=e.inputName,r=e.registerParams,i=e.onRightButtonClick,a=e.rightButtonText,s=e.underlyingSymbol,l=ve(e,["register","inputName","registerParams","onRightButtonClick","rightButtonText","underlyingSymbol"]);return(0,o.jsxs)(pe.B,{w:"full",children:[s&&(0,o.jsx)(ge.Z,{width:"auto",my:2,mx:4,children:(0,o.jsx)(v.Z,{name:s,size:"xs",image:(0,f.jc)(s)})}),(0,o.jsx)(fe.I,we({border:"none",borderRadius:10,fontSize:16,fontWeight:"700",p:4,h:14,paddingRight:28,paddingLeft:12,bgColor:"rgba(255, 255, 255, 0.08)",boxShadow:"inset 0px 1px 0px rgba(255, 255, 255, 0.04)",type:"number",step:"any",placeholder:"0",autoComplete:"off",autoFocus:be.jU,cursor:"pointer",onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),e.currentTarget.blur())},_hover:{bgColor:"rgba(255, 255, 255, 0.1)"},_focus:{border:"none"},onWheel:function(e){return e.target.blur()},onScroll:function(e){return e.target.blur()}},n(t,r),l)),(0,o.jsx)(ge.x,{width:"auto",my:2,mr:4,children:(0,o.jsx)(je.Y,{onClick:i,children:a})})]})},Le=t(26848),Ce=function(e){var n=e.label,t=e.balance,r=e.underlyingSymbol,i=e.onBalanceClick;return(0,o.jsxs)(g.x,{mt:2,textAlign:"right",color:"white",fontWeight:"600",fontSize:"xs",cursor:i?"pointer":"default",onClick:i,children:[(0,o.jsxs)(Le.m.span,{fontWeight:"500",color:"text.primary",children:[n,":"," "]}),(0,f.LH)(t,r)]})},Te=t(33838),Oe=t(41664),Ae=t.n(Oe),Ie=function(e){var n=e.underlyingSymbol,t=e.message,r=e.link;return(0,o.jsxs)(l.k,{mt:4,flexDirection:"column",alignItems:"center",children:[(0,o.jsx)(v.Z,{image:(0,f.jc)(n),mr:0,mb:4,width:"72px",height:"72px"}),(0,o.jsx)(g.x,{textAlign:"center",fontWeight:"500",children:t}),r&&(0,o.jsx)(Ae(),{href:r.href,passHref:!0,children:(0,o.jsx)(Te.r,{color:"primary",fontWeight:"700",target:"_blank",_hover:{textDecoration:"none"},children:r.label})})]})},Ee=t(8254),Be=t(86893),Me=t(77513),Pe=function(e){var n=e.type,t=e.apy,r=e.distributionApy,i=e.symbol,a=e.marketId,s=(0,m.$G)("dashboard").t;return(0,o.jsxs)(ie.K,{w:"full",spacing:"2",children:[(0,o.jsx)(Me.Z,{id:a,marketChart:n,target:"_blank",textDecoration:"underline",width:135,children:(0,o.jsxs)(g.x,{color:"text.primary",fontWeight:"700",mb:"2",children:[s("actionModals.".concat(n,"Rates"))," ",(0,o.jsx)(K.J,{as:Be.AlO,ml:"1",mb:"-1px",boxSize:3.5,color:"text.secondary"})]})}),(0,o.jsxs)(ue.U,{justifyContent:"space-between",children:[(0,o.jsxs)(l.k,{alignItems:"center",children:[(0,o.jsx)(v.Z,{mr:"2",name:i,size:"2xs",image:(0,f.jc)(i)}),(0,o.jsx)(g.x,{color:"text.secondary",children:n===ce.G.SUPPLY?s("actionModals.supplyAPY"):s("actionModals.borrowAPR")})]}),(0,o.jsx)(g.x,{fontWeight:"700",color:"text.primary",children:(0,f.c2)(t)})]}),(0,o.jsxs)(ue.U,{justifyContent:"space-between",children:[(0,o.jsxs)(l.k,{alignItems:"center",children:[(0,o.jsx)(v.Z,{mr:"2",name:S.UI,size:"2xs",image:(0,f.jc)(S.UI)}),(0,o.jsxs)(g.x,{color:"text.secondary",children:[" ",s("actionModals.distributionRate")]})]}),(0,o.jsx)(g.x,{fontWeight:"700",color:"text.primary",children:(0,f.c2)(r)})]})]})},Re=function(e){var n,t,a,s=e.market,l=e.borrowLimit,d=e.borrowLimitUtilization,u=e.canBorrow,x=e.onSubmit,h=(0,oe.cI)({mode:"onChange"}),b=h.register,p=h.formState.errors,g=h.handleSubmit,y=h.setValue,w=h.watch,v=(0,m.$G)("dashboard").t,S=w("amount"),k=s.underlyingDecimals,L=s.underlyingPriceFIAT,C=s.borrow,T=C.balance,O=C.borrowAmountCapped,A=C.borrowMaxAmount,I=C.apy,E=C.distributionApy,B=C.liquidity,M=s.underlyingSymbol,P=l*d,R=P+S*L,D=Math.min(R/l,1),F=!!S,z=!!S,_="".concat((0,f.c2)(se.PF,0)," ").concat(v("actionModals.limit")),W=(0,i.useCallback)((function(){var e=(0,le.zy)(O,k);y("amount",e,{shouldValidate:!0}),j.n_(j.Oj.LIMIT_BUTTON_CLICKED,{borrowLimitCap:(0,f.c2)(se.PF,0)},{amount:e,borrowAmountCapped:O})}),[O,y,k]),N=(0,le.kc)(s.underlyingDecimals,S);return(0,o.jsx)("form",{onSubmit:g(x),children:(0,o.jsxs)(c.g,{spacing:4,children:[!u&&(0,o.jsx)(Ie,{underlyingSymbol:M,message:v("actionModals.provideCollateral",{token:M}),link:{href:se.g5,label:v("actionModals.learnHowProvideCollateral")}}),u&&(0,o.jsxs)(U.xu,{w:"full",height:"80px",children:[(0,o.jsx)(ke,{register:b,inputName:"amount",registerParams:{required:v("actionModals.validation.amountRequired"),max:{value:A,message:v("actionModals.validation.maxAmountExceeded")},validate:function(e){return e*L>=B?v("actionModals.validation.amountHigherThanLiquidity"):parseFloat(e)>0||v("actionModals.validation.minAmountNotReached")}},onRightButtonClick:W,rightButtonText:_,underlyingSymbol:M,onKeyPress:N}),M&&(0,o.jsx)(Ce,{label:v("actionModals.currentlyBorrowing"),balance:T,underlyingSymbol:M})]}),(0,o.jsxs)(ie.K,{w:"full",overflow:"hidden",spacing:4,children:[(0,o.jsx)(ae.Z,{}),(0,o.jsx)(Pe,{type:ce.G.BORROW,apy:I,distributionApy:E,symbol:M,marketId:null===s||void 0===s||null===(n=s.cToken)||void 0===n?void 0:n.toLowerCase()}),u&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ae.Z,{}),(0,o.jsx)(he,{type:r.BALANCE,borrowLimit:P,showProjectedBorrowLimit:F,projectedBorrowLimit:R,borrowLimitUtilization:d,showProjectedBorrowLimitUtilization:!!z,projectedBorrowLimitUtilization:D})]})]}),(0,o.jsx)(Ee.Z,{isDisabled:!S||!!p.amount||!u,type:"submit",children:(null===(t=p.amount)||void 0===t||null===(a=t.message)||void 0===a?void 0:a.toString())||v(u?"actionModals.borrow":"actionModals.done")})]})})},De=function(e){var n,t,i,a=e.market,s=e.borrowLimit,l=e.borrowLimitUtilization,d=e.onSubmit,u=e.onMaxButtonClick,x=(0,oe.cI)({mode:"onChange",defaultValues:{amount:""}}),h=x.register,b=x.handleSubmit,p=x.setValue,g=x.formState.errors,f=x.watch,j=(0,m.$G)("dashboard").t,y=f("amount"),w=a.wallet,v=a.supply.underlyingTokenAllowance,S=a.borrow,k=S.balance,L=S.apy,C=S.distributionApy,T=a.underlyingSymbol,O=a.underlyingPriceFIAT,A=a.isNativeToken,I=v>0,E=v>=Number(y),B=s*l,M=B-Number(y)*O,P=Math.max(M/s,0),R=!!y,D=!!y,F=!I&&!A,z=I&&E||A,_=(0,le.kc)(a.underlyingDecimals,y);return(0,o.jsx)("form",{onSubmit:b(d),children:(0,o.jsxs)(c.g,{spacing:4,children:[F&&(0,o.jsx)(Ie,{underlyingSymbol:T,message:j("actionModals.enableDescription",{token:T})}),!F&&(0,o.jsxs)(U.xu,{w:"full",height:"80px",children:[(0,o.jsx)(ke,{register:h,inputName:"amount",registerParams:{required:j("actionModals.validation.amountRequired"),max:{value:w,message:j("actionModals.validation.noFunds")},validate:{positive:function(e){return parseFloat(e)>0||j("actionModals.validation.minAmountNotReached")},borrowBalance:function(e){return parseFloat(e)<=k||j("actionModals.validation.amountHigherThanBorrowBalance")}},onChange:function(){return u(!1)}},onRightButtonClick:function(){u(!0),p("amount",(0,le.zy)(k,a.underlyingDecimals),{shouldValidate:!0})},rightButtonText:j("actionModals.fullAmount"),underlyingSymbol:T,onKeyPress:_}),T&&(0,o.jsx)(Ce,{label:j("actionModals.balance"),balance:w,underlyingSymbol:T,onBalanceClick:function(){u(!1),p("amount",(0,le.zy)(w,a.underlyingDecimals),{shouldValidate:!0})}})]}),(0,o.jsxs)(ie.K,{w:"full",overflow:"hidden",spacing:4,children:[(0,o.jsx)(ae.Z,{}),(0,o.jsx)(Pe,{type:ce.G.BORROW,apy:L,distributionApy:C,symbol:T,marketId:null===a||void 0===a||null===(n=a.cToken)||void 0===n?void 0:n.toLowerCase()}),!F&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ae.Z,{}),(0,o.jsx)(he,{type:r.BALANCE,borrowLimit:B,showProjectedBorrowLimit:R,projectedBorrowLimit:M,borrowLimitUtilization:l,showProjectedBorrowLimitUtilization:!!D,projectedBorrowLimitUtilization:P})]})]}),(0,o.jsx)(Ee.Z,{isDisabled:!!g.amount,type:"submit",children:(null===(t=g.amount)||void 0===t||null===(i=t.message)||void 0===i?void 0:i.toString())||(z?j("actionModals.repay"):j("actionModals.enable",{token:T}))})]})})},Fe=t(45162),ze=t(27242),Ue=t(3427),_e=t(44504),We=function(e){var n=e.underlyingSymbol;return(0,o.jsxs)(_e.x,{fontSize:{base:"16px",md:"20px"},children:[(0,o.jsx)(v.Z,{name:n,size:"xs",image:(0,f.jc)(n)}),n]})};!function(e){e.BORROW="Borrow",e.REPAY="Repay"}(Se||(Se={}));var Ne,Ze=function(e){var n=e.market,t=e.borrowLimit,r=e.borrowLimitUtilization,a=e.canBorrow,s=e.onBorrowSubmit,c=e.onRepaySubmit,d=e.onMaxEnabledClick,u=(0,m.$G)("dashboard").t,x=(0,i.useMemo)((function(){return[{id:Se.BORROW,name:u("actionModals.borrow")},{id:Se.REPAY,name:u("actionModals.repay")}]}),[u]),h=(0,Fe.K)(x),b=h.activeMode,p=h.onToggleClick;return(0,i.useEffect)((function(){return d(!1)}),[b]),(0,o.jsxs)(o.Fragment,{children:[n.underlyingSymbol&&(0,o.jsx)(We,{underlyingSymbol:n.underlyingSymbol}),(0,o.jsx)(Ue.Z,{}),(0,o.jsxs)(re.f,{p:"6",overflowY:{base:"scroll",md:"auto"},maxH:{base:"72vh",md:"100vh"},children:[(0,o.jsx)(l.k,{justifyContent:"center",mb:"6",children:(0,o.jsx)(ze.Z,{onClick:p,selected:b,values:x})}),b===Se.BORROW&&(0,o.jsx)(Re,{borrowLimitUtilization:r,borrowLimit:t,canBorrow:a,market:n,onSubmit:s}),b===Se.REPAY&&(0,o.jsx)(De,{borrowLimitUtilization:r,borrowLimit:t,market:n,onSubmit:c,onMaxButtonClick:d})]})]})},Ge=t(4217),He=function(e){var n=e.market,t=e.borrowLimit,i=e.borrowLimitUtilization,a=e.onSubmit,s=(0,m.$G)("dashboard").t,l=n.supply.isCollateral,c=n.underlyingSymbol;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(_e.x,{fontSize:{base:"16px",md:"20px"},children:s("actionModals.collateral.".concat(l?"disable":"enable"))}),(0,o.jsx)(Ue.Z,{}),(0,o.jsx)(re.f,{p:"6",overflowY:{base:"scroll",md:"auto"},maxH:{base:"72vh",md:"100vh"},children:(0,o.jsxs)(ie.K,{spacing:6,alignItems:"center",w:"full",children:[(0,o.jsx)(Ge.q,{size:"lg",name:c,src:(0,f.jc)(c)}),(0,o.jsx)(g.x,{textAlign:"center",children:s("actionModals.collateral.description")}),(0,o.jsx)(ae.Z,{}),(0,o.jsx)(he,{type:r.LIMIT,borrowLimit:t,borrowLimitUtilization:i}),(0,o.jsx)(Ee.Z,{onClick:a,children:s("actionModals.collateral.".concat(l?"remove":"use"),{token:n.underlyingSymbol})})]})})]})},Ye=function(e){var n,t,i,a=e.market,s=e.borrowLimit,l=e.borrowLimitUtilization,d=e.onSubmit,u=(0,oe.cI)({mode:"onChange",defaultValues:{amount:""}}),x=u.register,h=u.handleSubmit,b=u.setValue,p=u.watch,g=u.formState.errors,f=(0,m.$G)("dashboard").t,y=a.wallet,w=a.underlyingPriceFIAT,v=a.collateralRate,S=a.supply,k=S.underlyingTokenAllowance,L=S.apy,C=S.distributionApy,T=S.isCollateral,O=a.underlyingSymbol,A=a.isNativeToken,I=p("amount"),E=k>0,B=k>=Number(I),M=s+Number(I)*v*w*Number(T),P=s*l/M,R=!!I,D=!!I&&T&&v,F=!E&&!A,z=E&&B||A,_=(0,le.kc)(a.underlyingDecimals,I);return(0,o.jsx)("form",{onSubmit:h(d),children:(0,o.jsxs)(c.g,{spacing:4,children:[F&&(0,o.jsx)(Ie,{underlyingSymbol:O,message:f("actionModals.enableDescription",{token:O})}),!F&&(0,o.jsxs)(U.xu,{w:"full",height:"80px",children:[(0,o.jsx)(ke,{register:x,inputName:"amount",registerParams:{required:f("actionModals.validation.amountRequired"),max:{value:y,message:f("actionModals.validation.maxAmountExceeded")},validate:function(e){return parseFloat(e)>0||f("actionModals.validation.minAmountNotReached")}},onRightButtonClick:function(){var e=(0,le.zy)(y,a.underlyingDecimals);b("amount",e,{shouldValidate:!0}),j.n_(j.Oj.MAX_BUTTON_CLICKED,{},{amount:e,balance:y})},rightButtonText:f("actionModals.max"),underlyingSymbol:O,onKeyPress:_}),O&&(0,o.jsx)(Ce,{label:f("actionModals.balance"),balance:y,underlyingSymbol:O})]}),(0,o.jsxs)(ie.K,{w:"full",overflow:"hidden",spacing:4,children:[(0,o.jsx)(ae.Z,{}),(0,o.jsx)(Pe,{type:ce.G.SUPPLY,apy:L,distributionApy:C,symbol:O,marketId:null===a||void 0===a||null===(n=a.cToken)||void 0===n?void 0:n.toLowerCase()}),!F&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ae.Z,{}),(0,o.jsx)(he,{type:r.LIMIT,borrowLimit:s,showProjectedBorrowLimit:R,projectedBorrowLimit:M,borrowLimitUtilization:l,showProjectedBorrowLimitUtilization:!!D,projectedBorrowLimitUtilization:P})]})]}),(0,o.jsx)(Ee.Z,{isDisabled:!!g.amount,type:"submit",children:(null===(t=g.amount)||void 0===t||null===(i=t.message)||void 0===i?void 0:i.toString())||(z?f("actionModals.supply"):f("actionModals.enable",{token:O}))})]})})},Ke=function(e){var n,t,i,a=e.market,s=e.borrowLimit,l=e.borrowLimitUtilization,d=e.onSubmit,u=e.onMaxEnabledClick,x=(0,oe.cI)({mode:"onChange"}),h=x.register,b=x.formState.errors,p=x.handleSubmit,g=x.setValue,y=x.watch,w=(0,m.$G)("dashboard").t,v=y("amount"),S=a.supply,k=S.balance,L=S.isCollateral,C=S.withdrawMaxAmount,T=S.withdrawCappedAmount,O=S.apy,A=S.distributionApy,I=a.collateralRate,E=a.underlyingPriceFIAT,B=a.underlyingSymbol,M=a.borrow.liquidity,P=!L||k<T,R=s-v*I*E*Number(L),D=Math.min(s*l/Math.max(R,0),1),F=!!v,z=!!v&&L&&I,_=(0,le.kc)(a.underlyingDecimals,v);return(0,o.jsx)("form",{onSubmit:p(d),children:(0,o.jsxs)(c.g,{spacing:4,children:[(0,o.jsxs)(U.xu,{w:"full",height:"80px",children:[(0,o.jsx)(ke,{register:h,inputName:"amount",registerParams:{required:w("actionModals.validation.amountRequired"),max:{value:P?k:C,message:w("actionModals.validation.maxAmountExceeded")},validate:function(e){return e*E>=M?w("actionModals.validation.amountHigherThanLiquidity"):parseFloat(e)>0||w("actionModals.validation.minAmountNotReached")},onChange:function(){return u(!1)}},onRightButtonClick:function(){P&&u(!0);var e=P?k:T;g("amount",(0,le.zy)(e,a.underlyingDecimals),{shouldValidate:!0}),j.n_(j.Oj.MAX_BUTTON_CLICKED,{},{amount:e,balance:k,withdrawCappedAmount:T,balanceIsUnderBorrowLimitCap:P})},rightButtonText:P?w("actionModals.max"):"".concat((0,f.c2)(se.PF,0)," ").concat(w("actionModals.limit")),underlyingSymbol:B,onKeyPress:_}),B&&(0,o.jsx)(Ce,{label:w("actionModals.currentlySupplying"),balance:k,underlyingSymbol:B})]}),(0,o.jsxs)(ie.K,{w:"full",overflow:"hidden",spacing:4,children:[(0,o.jsx)(ae.Z,{}),(0,o.jsx)(Pe,{type:ce.G.SUPPLY,apy:O,distributionApy:A,symbol:B,marketId:null===a||void 0===a||null===(n=a.cToken)||void 0===n?void 0:n.toLowerCase()}),(0,o.jsx)(ae.Z,{}),(0,o.jsx)(he,{type:r.LIMIT,borrowLimit:s,showProjectedBorrowLimit:F,projectedBorrowLimit:R,borrowLimitUtilization:l,showProjectedBorrowLimitUtilization:!!z,projectedBorrowLimitUtilization:D})]}),(0,o.jsx)(Ee.Z,{isDisabled:!v||!!b.amount,type:"submit",children:(null===(t=b.amount)||void 0===t||null===(i=t.message)||void 0===i?void 0:i.toString())||w("actionModals.withdraw")})]})})};!function(e){e.SUPPLY="Supply",e.WITHDRAW="Withdraw"}(Ne||(Ne={}));var qe=function(e){var n=e.market,t=e.borrowLimit,r=e.borrowLimitUtilization,a=e.onSupplySubmit,s=e.onWithdrawSubmit,c=e.onMaxEnabledClick,d=(0,m.$G)("dashboard").t,u=(0,i.useMemo)((function(){return[{id:Ne.SUPPLY,name:d("actionModals.supply")},{id:Ne.WITHDRAW,name:d("actionModals.withdraw")}]}),[d]),x=(0,Fe.K)(u),h=x.activeMode,b=x.onToggleClick;return(0,i.useEffect)((function(){return c(!1)}),[h]),(0,o.jsxs)(o.Fragment,{children:[n.underlyingSymbol&&(0,o.jsx)(We,{underlyingSymbol:n.underlyingSymbol}),(0,o.jsx)(Ue.Z,{}),(0,o.jsxs)(re.f,{p:"6",overflowY:{base:"scroll",md:"auto"},maxH:{base:"72vh",md:"100vh"},children:[(0,o.jsx)(l.k,{justifyContent:"center",mb:"6",children:(0,o.jsx)(ze.Z,{onClick:b,selected:h,values:u})}),h===Ne.SUPPLY&&(0,o.jsx)(Ye,{borrowLimitUtilization:r,borrowLimit:t,market:n,onSubmit:a}),h===Ne.WITHDRAW&&(0,o.jsx)(Ke,{borrowLimitUtilization:r,borrowLimit:t,market:n,onSubmit:s,onMaxEnabledClick:c})]})]})},Ve=t(34051),$e=t.n(Ve),Xe=t(23350),Je=t(56371),Qe=t(39720),en=t(75888),nn=t(13880);var tn=t(40088),rn=t(75057),on=t(10943);function an(e,n,t,r,o,i,a){try{var s=e[i](a),l=s.value}catch(c){return void t(c)}s.done?n(l):Promise.resolve(l).then(r,o)}function sn(){var e,n=(0,x.mx)().data,t=(0,on.Z)(),r=null===(e=rn.U[t])||void 0===e?void 0:e.maximillion;if(!n||!r)return{};var o=nn.JQ.connect(r,n),i=(0,f.GV)(o),a=function(){var e,n=(e=$e().mark((function e(n,t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i("repayBehalf",[n,{value:t}]));case 1:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){an(i,r,o,a,s,"next",e)}function s(e){an(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e,t){return n.apply(this,arguments)}}();return{repayBehalf:a}}function ln(e,n,t,r,o,i,a){try{var s=e[i](a),l=s.value}catch(c){return void t(c)}s.done?n(l):Promise.resolve(l).then(r,o)}function cn(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){ln(i,r,o,a,s,"next",e)}function s(e){ln(i,r,o,a,s,"throw",e)}a(void 0)}))}}var dn=function(e,n,t){var r=e.cToken,o=e.underlyingDecimals,a=e.underlyingToken,s=e.underlyingSymbol,l=e.isNativeToken,c=e.supply,d=c.underlyingTokenAllowance,u=c.isCollateral,m=e.borrow.balance,h=e.wallet,b=e.cTokenBalance,p=(0,en.h)(r),g=p.transactionStatus,y=p.setTransactionStatus,w=p.closeAllToasts,v=(0,Qe.t)(r,l),S=v.redeem,k=v.redeemUnderlying,L=v.mint,C=v.borrow,T=v.repayBorrow,O=sn().repayBehalf,A=function(e){var n=(0,x.mx)().data;if(!n)return{};var t=nn.w6.connect(e,n),r=(0,f.GV)(t);return{approve:function(e,n){return r("approve",[e,n])}}}(a).approve,I=(0,tn.g)(),E=I.enterMarkets,B=I.exitMarket,M=(0,x.mA)().address,P=(0,i.useState)(!1),R=P[0],D=P[1],F=function(){y(null),w()},z=function(){var e=cn($e().mark((function e(){var o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F(),e.prev=1,B&&E){e.next=4;break}throw new Error("Missing signer");case 4:if(y(en.L.SIGN),j.n_(u?j.Oj.UNCOLLATERALIZE_ATTEMPTED:j.Oj.COLLATERALIZE_ATTEMPTED,{underlyingSymbol:s}),!u){e.next=12;break}return e.next=9,B(r);case 9:e.t0=e.sent,e.next=15;break;case 12:return e.next=14,E([r]);case 14:e.t0=e.sent;case 15:return o=e.t0,y(en.L.BROADCAST),e.next=19,o.wait();case 19:n(),y(en.L.SUCCESS),j.n_(j.Oj.COLLATERALIZED_SUCCESSFULLY),t(),e.next=29;break;case 25:e.prev=25,e.t1=e.catch(1),y(en.L.FAILED,e.t1),j.k5(e.t1);case 29:case"end":return e.stop()}}),e,null,[[1,25]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=cn($e().mark((function e(r){var i,a,l;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.amount,F(),e.prev=2,C){e.next=5;break}throw new Error("Missing signer");case 5:return a=(0,Je.parseUnits)(i.toString(),o),y(en.L.SIGN),j.n_(j.Oj.BORROW_ATTEMPTED,{amount:i,underlyingSymbol:s}),e.next=10,C(a);case 10:return l=e.sent,y(en.L.BROADCAST),e.next=14,l.wait();case 14:y(en.L.SUCCESS),n(),j.n_(j.Oj.BORROWED_SUCCESSFULLY),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(2),y(en.L.FAILED,e.t0),j.k5(e.t0);case 23:return e.prev=23,t(),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[2,19,23,26]])})));return function(n){return e.apply(this,arguments)}}(),_=function(){var e=cn($e().mark((function e(i){var a,c,u,x,b,p,g,f,w;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i.amount,F(),c=d>0,u=d>=Number(a),x=+a+a*se.hk,b=l&&R,!c||!u){e.next=42;break}if(e.prev=7,p=(0,le.so)(b?x:a,o),j.n_(j.Oj.REPAY_ATTEMPTED,{amount:a,underlyingSymbol:s},{isNativeToken:l,hasAllowance:c,hasAllowanceForInputAmount:u}),T){e.next=12;break}throw new Error("Missing signer");case 12:if(y(en.L.SIGN),!l){e.next=20;break}return e.next=17,null===O||void 0===O?void 0:O("".concat(M),p.toString());case 17:g=e.sent,e.next=24;break;case 20:return f=h>m?Xe.Bz.toString():(0,le.so)(h,o),e.next=23,T(R?f:p);case 23:g=e.sent;case 24:return y(en.L.BROADCAST),e.next=27,null===g||void 0===g?void 0:g.wait();case 27:y(en.L.SUCCESS),j.n_(j.Oj.REPAID_SUCCESSFULLY),n(),t(),e.next=37;break;case 33:e.prev=33,e.t0=e.catch(7),y(en.L.FAILED,e.t0),j.k5(e.t0);case 37:return e.prev=37,t(),e.finish(37);case 40:e.next=65;break;case 42:if(e.prev=42,A){e.next=45;break}throw new Error("Missing signer");case 45:return y(en.L.SIGN),j.n_(j.Oj.APPROVE_ATTEMPTED,{underlyingSymbol:s}),e.next=49,A(r,Xe.Bz.toString());case 49:return w=e.sent,y(en.L.BROADCAST),e.next=53,w.wait();case 53:y(en.L.SUCCESS),j.n_(j.Oj.APPROVED_SUCCESSFULLY),n(),e.next=62;break;case 58:e.prev=58,e.t1=e.catch(42),y(en.L.FAILED,e.t1),j.k5(e.t1);case 62:return e.prev=62,D(!1),e.finish(62);case 65:case"end":return e.stop()}}),e,null,[[7,33,37,40],[42,58,62,65]])})));return function(n){return e.apply(this,arguments)}}(),W=function(){var e=cn($e().mark((function e(i){var a,c,u,m,x,h;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i.amount,F(),c=d>0,u=d>=Number(a),!c||!u){e.next=29;break}if(e.prev=5,m=(0,le.so)(a,o),L){e.next=9;break}throw new Error("Missing signer");case 9:return y(en.L.SIGN),j.n_(j.Oj.SUPPLY_ATTEMPTED,{amount:a,underlyingSymbol:s},{isNativeToken:l,hasAllowance:c,hasAllowanceForInputAmount:u}),e.next=13,L(m);case 13:return x=e.sent,y(en.L.BROADCAST),e.next=17,x.wait();case 17:y(en.L.SUCCESS_SUPPLY),j.n_(j.Oj.SUPPLIED_SUCCESSFULLY),n(),t(),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(5),y(en.L.FAILED,e.t0),j.k5(e.t0);case 27:e.next=49;break;case 29:if(e.prev=29,A){e.next=32;break}throw new Error("Missing signer");case 32:return y(en.L.SIGN),j.n_(j.Oj.APPROVE_ATTEMPTED,{underlyingSymbol:s}),e.next=36,A(r,Xe.Bz.toString());case 36:return h=e.sent,y(en.L.BROADCAST),e.next=40,h.wait();case 40:y(en.L.SUCCESS),j.n_(j.Oj.APPROVED_SUCCESSFULLY),n(),e.next=49;break;case 45:e.prev=45,e.t1=e.catch(29),y(en.L.FAILED,e.t1),j.k5(e.t1);case 49:case"end":return e.stop()}}),e,null,[[5,23],[29,45]])})));return function(n){return e.apply(this,arguments)}}(),N=function(){var e=cn($e().mark((function e(r){var i,a,l;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.amount,F(),e.prev=2,S&&k){e.next=5;break}throw new Error("Missing signer");case 5:if(y(en.L.SIGN),j.n_(j.Oj.WITHDRAW_ATTEMPTED,{amount:i,underlyingSymbol:s},{isMaxEnabled:R,cTokenBalance:b}),!R){e.next=14;break}return e.next=11,S(b);case 11:a=e.sent,e.next=18;break;case 14:return l=(0,Je.parseUnits)(i.toString(),o),e.next=17,k(l);case 17:a=e.sent;case 18:return y(en.L.BROADCAST),e.next=21,a.wait();case 21:y(en.L.SUCCESS),j.n_(j.Oj.WITHDREW_SUCCESSFULLY),n(),t(),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(2),y(en.L.FAILED,e.t0),j.k5(e.t0);case 31:return e.prev=31,D(!1),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[2,27,31,34]])})));return function(n){return e.apply(this,arguments)}}();return{supply:W,borrow:U,repay:_,withdraw:N,collateralToggle:z,transactionStatus:g,setIsMaxEnabled:D}},un=t(25828),mn=function(e){var n=e.borrowLimit,t=e.borrowLimitUtilization,r=e.canBorrow,a=e.market,s=e.refetch,l=e.isOpen,c=e.onClose,d=e.selectedMode,u=dn(a,s,c),m=u.supply,x=u.borrow,h=u.withdraw,b=u.repay,p=u.collateralToggle,g=u.transactionStatus,f=u.setIsMaxEnabled,j=function(e){f(e)};(0,i.useEffect)((function(){return f(!1)}),[d]);var y=g===en.L.BROADCAST,w=g===en.L.SIGN||y;return(0,o.jsxs)(ee.u_,{isOpen:l,onClose:c,isCentered:!0,size:{base:"full",md:"md"},children:[(0,o.jsx)(ne.Z,{}),(0,o.jsx)(te.h,{children:w?(0,o.jsx)(un.Z,{isBroadcasting:y,onClose:c}):(0,o.jsxs)(o.Fragment,{children:[d===Bn.SUPPLY&&(0,o.jsx)(qe,{borrowLimit:n,borrowLimitUtilization:t,market:a,onSupplySubmit:m,onWithdrawSubmit:h,onMaxEnabledClick:j}),d===Bn.BORROW&&(0,o.jsx)(Ze,{onBorrowSubmit:r?x:c,onRepaySubmit:b,onMaxEnabledClick:j,borrowLimit:n,borrowLimitUtilization:t,canBorrow:r,market:a}),d===Bn.COLLATERAL&&(0,o.jsx)(He,{borrowLimit:n,borrowLimitUtilization:t,market:a,onSubmit:p})]})})]})},xn=t(71354),hn=t(9740),bn=t(93344),pn=t(7046);function gn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function fn(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var jn=function(e){var n=e.label,t=e.placement,r=void 0===t?"top":t,i=fn(e,["label","placement"]),s=(0,a.q)(),c=s.isOpen,d=s.onOpen,u=s.onToggle,m=s.onClose;return(0,o.jsx)(pn.u,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){gn(e,n,t[n])}))}return e}({hasArrow:!0,label:n,placement:r,isOpen:c},i,{children:(0,o.jsx)(l.k,{cursor:"pointer",alignItems:"center",onMouseEnter:d,onMouseLeave:m,onClick:u,children:(0,o.jsx)(K.J,{w:4,h:4,color:c?"text.secondary":"text.tertiary",ml:"6px"})})}))},yn=t(96969),wn=t(18057),vn="#AAA",Sn=1e3,kn=function(e){var n,t=e.size,r=void 0===t?226:t,i=e.progress,a=void 0===i?0:i,s=e.label,l=e.safetyStatus,c=e.isLoading,d=r/2,u=d-22,m=2*Math.PI*u,x=m*((100-a)/100),h=(n=l)===In.INITIAL?[y.r.colors.lighthouseHealth.initial.start,y.r.colors.lighthouseHealth.initial.end]:n===In.HIGHEST?[y.r.colors.lighthouseHealth.highest.start,y.r.colors.lighthouseHealth.highest.end]:n===In.MEDIUM?[y.r.colors.lighthouseHealth.medium.start,y.r.colors.lighthouseHealth.medium.end]:n===In.LOW?[y.r.colors.lighthouseHealth.low.start,y.r.colors.lighthouseHealth.low.end]:n===In.CRITICAL?[y.r.colors.lighthouseHealth.critical.start,y.r.colors.lighthouseHealth.critical.end]:[y.r.colors.lighthouseHealth.initial.start,y.r.colors.lighthouseHealth.initial.end],b=226/r,p=l===In.INITIAL||c,f=p?"animated":"",j=function(e){return{animation:"spinner ".concat(e?"4":"1","s linear ").concat(e?"infinite":""),transformOrigin:"center"}}(p);return(0,o.jsxs)(U.xu,{pos:"relative",width:r,height:r,children:[(0,o.jsxs)("svg",{style:{width:r,height:r,transform:"rotate(-90deg)"},children:[(0,o.jsx)("circle",{opacity:.4,cx:d,cy:d,fill:"transparent",r:u,stroke:"black",strokeWidth:22/b}),(0,o.jsx)("circle",{cx:d,cy:d,fill:"transparent",r:.88*u,stroke:vn,strokeWidth:1/b,opacity:.12}),(0,o.jsx)("circle",{cx:d,cy:d,fill:"transparent",r:.88*u,stroke:"url('#progressGradient')",strokeWidth:1/b,strokeDasharray:m*(1-a/Sn/1.9),strokeDashoffset:x,strokeLinecap:"round",filter:"url(#reflection)",className:f,style:j}),(0,o.jsx)("circle",{cx:d,cy:d,fill:"transparent",r:1.12*u,stroke:vn,strokeWidth:1/b,opacity:.12}),(0,o.jsx)("circle",{cx:d,cy:d,fill:"transparent",r:1.12*u,stroke:"url('#progressGradient')",strokeWidth:1/b,strokeDasharray:a>5?m*(1+a/Sn*1.2):m,strokeDashoffset:a>5?x/(1+a/Sn*.5):x/1.03,strokeLinecap:"round",filter:"url(#reflection)",className:f,style:j}),(0,o.jsx)("circle",{cx:d,cy:d,fill:"transparent",r:u,stroke:"url('#progressGradient')",strokeWidth:8/b,strokeDasharray:m,strokeDashoffset:x,strokeLinecap:"round",className:f,style:j}),(0,o.jsx)("circle",{cx:d,cy:d,fill:"transparent",r:u,stroke:"url('#progressGradient')",strokeWidth:8/b,strokeDasharray:m,strokeDashoffset:x,strokeLinecap:"round",filter:"url(#blur)",className:f,style:j,opacity:.4}),(0,o.jsxs)("defs",{children:[(0,o.jsx)("linearGradient",{id:"progressGradient",gradientTransform:"rotate(90)",children:p?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("stop",{offset:"0%",stopColor:h[0]}),(0,o.jsx)("stop",{offset:"100%",stopColor:h[1]})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("stop",{offset:"0%",stopColor:h[0]}),(0,o.jsx)("stop",{offset:"65%",stopColor:h[1]})]})}),(0,o.jsx)("filter",{id:"blur",children:(0,o.jsx)("feGaussianBlur",{stdDeviation:"3"})}),(0,o.jsxs)("filter",{id:"reflection",children:[(0,o.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,o.jsx)("feComposite",{operator:"in",in:"SourceGraphic"})]})]})]}),!p&&(0,o.jsxs)(U.xu,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",children:[(0,o.jsx)(g.x,{fontSize:{base:"xs",md:"sm"},opacity:.72,children:s}),(0,o.jsx)(g.x,{fontWeight:"700",fontSize:{base:"32px",md:"5xl"},lineHeight:{base:"36px",md:"60px"},children:"".concat(a>100?100:a)})]})]})},Ln=t(11028),Cn=t(47441),Tn=t(33229);function On(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function An(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){On(e,n,t[n])}))}return e}var In,En=function(e){var n=e.label,t=e.value,r=e.mantissa,i=e.isLoading,a=e.tooltip;return(0,o.jsxs)(Ln.k,{textAlign:{base:"center",lg:"left"},minW:{base:"50%",lg:"initial"},children:[(0,o.jsxs)(l.k,{alignItems:"center",justifyContent:{base:"center",lg:"flex-start"},minW:"110px",children:[(0,o.jsx)(Cn.d,{mb:"1",fontSize:{base:"xs",lg:"sm"},color:"gray.400",children:n}),a&&(0,o.jsx)(U.xu,{mb:"2px",children:(0,o.jsx)(jn,An({},a))})]}),(0,o.jsx)(bn.O,{isLoaded:!i,margin:"auto",w:"120px",h:"32px",display:i?"inherit":"none"}),!i&&(0,o.jsxs)(Tn.J,{sx:{fontVariant:"tabular-nums"},fontSize:{base:"xl",lg:"2xl"},children:[t,r&&(0,o.jsx)(g.x,{as:"span",color:"text.tertiary",children:".".concat(r)})]})]})};!function(e){e.INITIAL="initial",e.LOW="low",e.MEDIUM="medium",e.HIGHEST="highest",e.CRITICAL="critical"}(In||(In={}));var Bn,Mn=function(e,n){return e.toFixed(n).split(".")},Pn=function(e){var n,t=e.summary,r=e.isLoading,a=(0,m.$G)("dashboard").t,s=t.supplyBalance,c=t.borrowBalance,d=t.netApy,u=t.borrowLimit,h=t.borrowLimitUtilization,b=(0,x.mA)().isConnected,p=(0,C.S)({base:!0,md:!1}),w=p?4:6,v=b&&!r?function(e){return Math.round(100*(1-e))}(h):6,S=function(e,n,t){return!n||t?In.INITIAL:100===e?In.HIGHEST:e>=50?In.MEDIUM:e>=20?In.LOW:e<20?In.CRITICAL:In.INITIAL}(v,b,r),k=(n=S)===In.INITIAL?y.r.colors.text.primary:n===In.HIGHEST||n===In.MEDIUM?y.r.colors.secondary:n===In.LOW?y.r.colors.text.warning:n===In.CRITICAL?y.r.colors.error:y.r.colors.text.primary,L=Mn(s,w),T=Mn(c,w);return(0,i.useEffect)((function(){r||j.n_(j.Oj.LIGHTHOUSE_LOADED,{},{isConnected:b,health:v,safetyStatus:S,summary:t})}),[r]),(0,o.jsx)(Z.Z,{children:(0,o.jsx)(ie.K,{mb:6,justifyContent:"center",w:{base:"full",lg:"initial"},alignItems:{base:"center",lg:"flex-start"},background:y.r.colors.background.box,border:"1px solid #FFFFFF12",borderRadius:"2xl",py:4,px:{base:2,lg:6},minH:"360px",children:(0,o.jsxs)(l.k,{maxW:{base:"100%",lg:"container.xl"},justifyContent:{base:"center",lg:"space-between"},alignItems:"center",flexDir:{base:"column",lg:"row"},px:{base:2,lg:0},pl:{lg:6},py:{base:2,lg:8},gap:{base:2,lg:8},children:[(0,o.jsx)(kn,{safetyStatus:S,progress:v,size:p?160:226,label:a("lighthouse.safetyLabel"),isLoading:r}),(0,o.jsx)(l.k,{flex:"1",w:"full",children:(0,o.jsxs)(ie.K,{spacing:2,w:"full",alignItems:{base:"center",lg:"flex-start"},children:[(0,o.jsxs)(l.k,{gap:2,alignItems:"center",display:{base:"none",lg:"flex"},children:[(0,o.jsx)(hn.E,{src:"/assets/lighthouse.svg",w:"24px",h:"24px"}),(0,o.jsx)(g.x,{fontWeight:"bold",children:a("lighthouse.title")})]}),(0,o.jsxs)(ie.K,{spacing:2,pb:{base:2,lg:0},alignItems:{base:"center",lg:"flex-start"},children:[(0,o.jsx)(bn.O,{isLoaded:!r,borderRadius:"sm",maxW:r?"266px":"full",children:(0,o.jsxs)(l.k,{gap:1,justifyContent:{base:"center",lg:"flex-start"},alignItems:"center",children:[S!==In.INITIAL&&(0,o.jsxs)(_.X,{fontWeight:"700",fontSize:{base:"24px",lg:"32px"},children:[a("lighthouse.outlook"),": "]}),(0,o.jsx)(_.X,{fontWeight:"800",fontSize:{base:"24px",lg:"32px"},color:k,textTransform:S!==In.INITIAL?"uppercase":"initial",children:a("lighthouse.safety.".concat(S,".title"))}),b&&(0,o.jsx)(jn,{mb:"6px",ml:"6px",label:a("lighthouse.tooltips.title"),w:230})]})}),(0,o.jsx)(E.N,{maxW:r?"568px":"full",noOfLines:1,isLoaded:!r,skeletonHeight:6,children:(0,o.jsx)(l.k,{gap:1,justifyContent:{base:"center",lg:"flex-start"},textAlign:{base:"center",lg:"left"},children:(0,o.jsx)(g.x,{color:"text.secondary",fontSize:{base:"14px",lg:"16px"},maxW:"640px",children:a("lighthouse.safety.".concat(S,".description"))})})})]}),(0,o.jsx)(ae.Z,{display:{base:"block",lg:"none"}}),(0,o.jsxs)(l.k,{pt:4,gap:{base:4,lg:6},w:"full",justifyContent:"space-between",flexWrap:"wrap",children:[!b&&(0,o.jsxs)(l.k,{gap:4,direction:{base:"column",lg:"row"},w:"full",children:[(0,o.jsx)(wn.t,{size:yn.qE.LARGE}),(0,o.jsx)(Te.r,{href:"".concat(se.qk,"/#guides"),_hover:{textDecoration:"none"},target:"_blank",children:(0,o.jsx)(yn.op,{size:yn.qE.LARGE,variant:yn.Wu.OUTLINE,w:"full",children:a("lighthouse.tutorial")})})]}),b&&(0,o.jsxs)(l.k,{w:"full",gap:{base:0,lg:8},rowGap:{base:2,lg:0},flexWrap:"wrap",children:[(0,o.jsx)(En,{label:a("lighthouse.supplyBalance"),value:"".concat((0,f.ml)(Number(L[0]),{notation:"standard",decimals:0})),mantissa:L[1],isLoading:r}),(0,o.jsx)(En,{label:a("lighthouse.borrowBalance"),value:"".concat((0,f.ml)(Number(T[0]),{notation:"standard",decimals:0})),mantissa:T[1],isLoading:r}),(0,o.jsx)(En,{label:a("lighthouse.borrowLimit"),value:(0,f.ml)(u),isLoading:r,tooltip:{label:a("lighthouse.tooltips.borrowLimit"),ml:2,mb:1}}),(0,o.jsx)(En,{label:a("lighthouse.netApy"),tooltip:{label:a("lighthouse.tooltips.netApy"),ml:2,mb:1},value:(0,f.c2)(d),isLoading:r})]})]})]})})]})})})},Rn=t(21907),Dn=t(31757),Fn=t(93911),zn=!0;!function(e){e.SUPPLY="supply",e.BORROW="borrow",e.COLLATERAL="collateral"}(Bn||(Bn={}));var Un=function(){var e,n=(0,m.$G)("dashboard").t,t=(0,a.q)(),r=t.onOpen,d=t.isOpen,u=t.onClose,h=(0,x.LN)().chain,b=(0,Rn.U)().isConnected,p=(0,i.useState)(),g=p[0],f=p[1],y=(0,Fn.i)(),w=y.markets,v=y.summary,k=y.supplyingMarkets,L=y.borrowingMarkets,C=y.isSupplying,T=y.isBorrowing,O=y.canBorrow,A=y.refetch,I=y.isLoading,E=y.error,B=(0,i.useState)(),M=B[0],P=B[1],R=isNaN(v.supplyBalance)||isNaN(v.borrowBalance)||isNaN(v.borrowLimit),D=I||R,F=(0,Dn.A)(null===M||void 0===M?void 0:M.cToken).market,z=function(e){P(e),f(Bn.SUPPLY),r()},U=function(e){P(e),f(Bn.BORROW),r()},_=function(e){P(e),f(Bn.COLLATERAL),r()};(0,i.useEffect)((function(){if(g){var e=F.wallet,n=F.supply,t=n.underlyingTokenAllowance,r=n.isCollateral,o=F.underlyingSymbol;j.n_(j.Oj.MODAL_OPENED,{selectedMode:g,underlyingSymbol:o},{hasAllowance:t>0,isCollateral:r,balance:e})}}),[g]);var W=S.bA.includes(null!==(e=null===h||void 0===h?void 0:h.id)&&void 0!==e?e:0),N=E&&(!b||W);return(0,o.jsxs)(o.Fragment,{children:[N&&(0,o.jsx)(xn.Z,{label:n("networkDown.banner"),buttonLabel:n("networkDown.bannerButton"),onButtonClick:A}),(0,o.jsxs)(s.W,{maxW:{base:"container.md",lg:"container.xl"},justifyContent:"center",children:[v&&(0,o.jsx)(Pn,{summary:v,isLoading:D}),(0,o.jsxs)(l.k,{flexDir:{base:"column",lg:"row"},justifyContent:"center",alignItems:"flex-start",gap:6,w:"100%",pb:{base:12,lg:16},children:[(0,o.jsxs)(c.g,{alignItems:"flex-start",spacing:6,w:"full",children:[C&&k&&(0,o.jsx)(Q,{isLoading:D,onRowClick:z,isSupplying:C,data:k,title:n("supplyingMarkets"),onCollateralToggle:_,showError:N}),(0,o.jsx)(Q,{title:n("supplyMarkets"),data:w,isLoading:D,onRowClick:z,onCollateralToggle:_,showError:N})]}),(0,o.jsxs)(c.g,{alignItems:"flex-start",spacing:6,w:"full",children:[T&&L&&(0,o.jsx)(V,{onRowClick:U,isBorrowing:T,data:L,isLoading:D,title:n("borrowingMarkets"),showError:N}),(0,o.jsx)(V,{onRowClick:U,data:w,isLoading:D,title:n("borrowMarkets"),showError:N})]})]}),F&&v&&(0,o.jsx)(mn,{selectedMode:g,market:F,borrowLimit:null===v||void 0===v?void 0:v.borrowLimit,borrowLimitUtilization:v.borrowLimitUtilization,canBorrow:O,refetch:A,isOpen:d,onClose:function(){u(),j.n_(j.Oj.MODAL_CLOSED)}})]})]})},_n=u()((function(){return Promise.resolve(Un)}),{ssr:!1})},9033:function(e,n,t){"use strict";var r;t.d(n,{G:function(){return r}}),function(e){e.SUPPLY="supply",e.BORROW="borrow"}(r||(r={}))},96658:function(){}},function(e){e.O(0,[350,182,495,774,888,179],(function(){return n=40528,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
//# sourceMappingURL=dashboard-1ec950400d855e1d.js.map